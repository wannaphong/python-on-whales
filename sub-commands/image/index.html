<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>docker image - Python on whales</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Python on whales</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../docker_client/" class="nav-link">Docker client</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Sub-commands <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../buildx/" class="dropdown-item">docker buildx</a>
</li>
                                    
<li>
    <a href="../compose/" class="dropdown-item">docker compose</a>
</li>
                                    
<li>
    <a href="../config/" class="dropdown-item">docker config</a>
</li>
                                    
<li>
    <a href="../container/" class="dropdown-item">docker container</a>
</li>
                                    
<li>
    <a href="../context/" class="dropdown-item">docker context</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">docker image</a>
</li>
                                    
<li>
    <a href="../manifest/" class="dropdown-item">docker manifest</a>
</li>
                                    
<li>
    <a href="../network/" class="dropdown-item">docker network</a>
</li>
                                    
<li>
    <a href="../node/" class="dropdown-item">docker node</a>
</li>
                                    
<li>
    <a href="../plugin/" class="dropdown-item">docker plugin</a>
</li>
                                    
<li>
    <a href="../secret/" class="dropdown-item">docker secret</a>
</li>
                                    
<li>
    <a href="../service/" class="dropdown-item">docker service</a>
</li>
                                    
<li>
    <a href="../stack/" class="dropdown-item">docker stack</a>
</li>
                                    
<li>
    <a href="../swarm/" class="dropdown-item">docker swarm</a>
</li>
                                    
<li>
    <a href="../system/" class="dropdown-item">docker system</a>
</li>
                                    
<li>
    <a href="../task/" class="dropdown-item">docker task</a>
</li>
                                    
<li>
    <a href="../trust/" class="dropdown-item">docker trust</a>
</li>
                                    
<li>
    <a href="../volume/" class="dropdown-item">docker volume</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Docker objects <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../docker_objects/builders/" class="dropdown-item">Builders</a>
</li>
                                    
<li>
    <a href="../../docker_objects/configs/" class="dropdown-item">Configs</a>
</li>
                                    
<li>
    <a href="../../docker_objects/containers/" class="dropdown-item">Containers</a>
</li>
                                    
<li>
    <a href="../../docker_objects/images/" class="dropdown-item">Images</a>
</li>
                                    
<li>
    <a href="../../docker_objects/networks/" class="dropdown-item">Networks</a>
</li>
                                    
<li>
    <a href="../../docker_objects/nodes/" class="dropdown-item">Nodes</a>
</li>
                                    
<li>
    <a href="../../docker_objects/plugins/" class="dropdown-item">Plugins</a>
</li>
                                    
<li>
    <a href="../../docker_objects/secrets/" class="dropdown-item">Secrets</a>
</li>
                                    
<li>
    <a href="../../docker_objects/services/" class="dropdown-item">Services</a>
</li>
                                    
<li>
    <a href="../../docker_objects/stacks/" class="dropdown-item">Stacks</a>
</li>
                                    
<li>
    <a href="../../docker_objects/tasks/" class="dropdown-item">Tasks</a>
</li>
                                    
<li>
    <a href="../../docker_objects/volumes/" class="dropdown-item">Volumes</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../user_guide/docker_run/" class="dropdown-item">docker.run() guide</a>
</li>
                                    
<li>
    <a href="../../user_guide/generic_resources/" class="dropdown-item">Swarm generic resources</a>
</li>
                                    
<li>
    <a href="../../user_guide/running_python_on_whales_inside_a_container/" class="dropdown-item">Running python-on-whales inside a container</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../context/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../manifest/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#copy_from" class="nav-link">copy_from</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#copy_to" class="nav-link">copy_to</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#exists" class="nav-link">exists</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#history" class="nav-link">history</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#import_" class="nav-link">import_</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#inspect" class="nav-link">inspect</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#list" class="nav-link">list</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#load" class="nav-link">load</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#prune" class="nav-link">prune</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#pull" class="nav-link">pull</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#push" class="nav-link">push</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#remove" class="nav-link">remove</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#save" class="nav-link">save</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#tag" class="nav-link">tag</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h2 id="copy_from">copy_from</h2>
<pre><code class="python">docker.image.copy_from(image, path_in_image, destination)
</code></pre>

<hr />
<h2 id="copy_to">copy_to</h2>
<pre><code class="python">docker.image.copy_to(base_image, local_path, path_in_image, new_tag=None)
</code></pre>

<hr />
<h2 id="exists">exists</h2>
<pre><code class="python">docker.image.exists(x)
</code></pre>

<p>Returns <code>True</code> if the image exists. <code>False</code> otherwise.</p>
<p>It's just calling <code>docker.image.inspect(...)</code> and verifies that it doesn't throw
 a <code>python_on_whales.exceptions.NoSuchImage</code>.</p>
<p><strong>Returns</strong></p>
<p>A <code>bool</code></p>
<hr />
<h2 id="history">history</h2>
<pre><code class="python">docker.image.history()
</code></pre>

<p>Not yet implemented</p>
<hr />
<h2 id="import_">import_</h2>
<pre><code class="python">docker.image.import_(source, tag=None, changes=[], message=None, platform=None)
</code></pre>

<p>Import the contents from a tarball to create a filesystem image</p>
<p>Alias: <code>docker.import_(...)</code></p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>changes</strong> <code>List[str]</code>: Apply Dockerfile instruction to the created image</li>
<li><strong>message</strong> <code>Optional[str]</code>: Set commit message for imported image</li>
<li><strong>platform</strong> <code>Optional[str]</code>: Set platform if server is multi-platform capable</li>
</ul>
<hr />
<h2 id="inspect">inspect</h2>
<pre><code class="python">docker.image.inspect(x)
</code></pre>

<p>Creates a <code>python_on_whales.Image</code> object.</p>
<p><strong>Returns</strong></p>
<p><code>python_on_whales.Image</code>, or <code>List[python_on_whales.Image]</code> if the input
was a list of strings.</p>
<p><strong>Raises</strong></p>
<p><code>python_on_whales.exceptions.NoSuchImage</code> if one of the images does not exists.</p>
<hr />
<h2 id="list">list</h2>
<pre><code class="python">docker.image.list(filters={})
</code></pre>

<p>Returns the list of Docker images present on the machine.</p>
<p>Alias: <code>docker.images()</code></p>
<p>Note that each image may have multiple tags.</p>
<p><strong>Returns</strong></p>
<p>A <code>List[python_on_whales.Image]</code> object.</p>
<hr />
<h2 id="load">load</h2>
<pre><code class="python">docker.image.load(input, quiet=False)
</code></pre>

<p>Loads one or multiple Docker image(s) from a tar or an iterator of <code>bytes</code>.</p>
<p>Alias: <code>docker.load(...)</code></p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>input</strong> <code>Union[str, pathlib.Path, bytes, Iterator[bytes]]</code>: Path or input stream to load the images from.</li>
<li><strong>quiet</strong> <code>bool</code>: If you don't want to display the progress bars.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>None</code> when using bytes as input. A <code>List[str]</code> (list of tags)
 when a path is provided.</p>
<hr />
<h2 id="prune">prune</h2>
<pre><code class="python">docker.image.prune(all=False, filter={})
</code></pre>

<p>Remove unused images</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>all</strong> <code>bool</code>: Remove all unused images, not just dangling ones</li>
<li><strong>filter</strong> <code>Dict[str, str]</code>: Provide filter values (e.g. <code>{"until": "&lt;timestamp&gt;"}</code>)</li>
</ul>
<hr />
<h2 id="pull">pull</h2>
<pre><code class="python">docker.image.pull(x, quiet=False)
</code></pre>

<p>Pull one or more docker image(s)</p>
<p>Alias: <code>docker.pull(...)</code></p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>x</strong> <code>Union[str, List[str]]</code>: The image name(s) . Can be a string or a list of strings. In case of
    list, multithreading is used to pull the images.
    The progress bars might look strange as multiple
    processes are drawing on the terminal at the same time.</li>
<li><strong>quiet</strong> <code>bool</code>: If you don't want to see the progress bars.</li>
</ul>
<p><strong>Returns:</strong></p>
<p>The Docker image loaded (<code>python_on_whales.Image</code> object).
If a list was passed as input, then a <code>List[python_on_whales.Image]</code> will
be returned.</p>
<hr />
<h2 id="push">push</h2>
<pre><code class="python">docker.image.push(x, quiet=False)
</code></pre>

<p>Push a tag or a repository to a registry</p>
<p>Alias: <code>docker.push(...)</code></p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>x</strong> <code>Union[str, List[str]]</code>: Tag(s) or repo(s) to push. Can be a string or a list of strings.
    If it's a list of string, python-on-whales will push all the images with
    multiple threads. The progress bars might look strange as multiple
    processes are drawing on the terminal at the same time.</li>
<li><strong>quiet</strong> <code>bool</code>: If you don't want to see the progress bars.</li>
</ul>
<p><strong>Raises</strong></p>
<p><code>python_on_whales.exceptions.NoSuchImage</code> if one of the images does not exists.</p>
<hr />
<h2 id="remove">remove</h2>
<pre><code class="python">docker.image.remove(x, force=False, prune=True)
</code></pre>

<p>Remove one or more docker images.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>x</strong> <code>Union[str, python_on_whales.Image, List[Union[str, python_on_whales.Image]]]</code>: Single image or list of Docker images to remove. You can use tags or
    <code>python_on_whales.Image</code> objects.</li>
<li><strong>force</strong> <code>bool</code>: Force removal of the image</li>
<li><strong>prune</strong> <code>bool</code>: Delete untagged parents</li>
</ul>
<p><strong>Raises</strong></p>
<p><code>python_on_whales.exceptions.NoSuchImage</code> if one of the images does not exists.</p>
<hr />
<h2 id="save">save</h2>
<pre><code class="python">docker.image.save(images, output=None)
</code></pre>

<p>Save one or more images to a tar archive. Returns a stream if output is <code>None</code></p>
<p>Alias: <code>docker.save(...)</code></p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>images</strong> <code>Union[str, python_on_whales.Image, List[Union[str, python_on_whales.Image]]]</code>: Single docker image or list of docker images to save</li>
<li><strong>output</strong> <code>Optional[Union[str, pathlib.Path]]</code>: Path of the tar archive to produce. If <code>output</code> is None, a generator
    of bytes is produced. It can be used to stream those bytes elsewhere,
    to another Docker daemon for example.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>Optional[Iterator[bytes]]</code>. If output is a path, nothing is returned.</p>
<p><strong>Raises</strong></p>
<p><code>python_on_whales.exceptions.NoSuchImage</code> if one of the images does not exists.</p>
<p><strong>Example</strong></p>
<p>An example of transfer of an image from a local Docker daemon to a remote Docker
daemon. We assume that the remote machine has an ssh access:</p>
<pre><code class="python">from python_on_whales import DockerClient

local_docker = DockerClient()
remote_docker = DockerClient(host=&quot;ssh://my_user@186.167.32.84&quot;)

image_name = &quot;busybox:1&quot;
local_docker.pull(image_name)
bytes_iterator = local_docker.image.save(image_name)

remote_docker.image.load(bytes_iterator)
</code></pre>

<p>Of course the best solution is to use a registry to transfer image but
it's a cool example nonetheless.</p>
<hr />
<h2 id="tag">tag</h2>
<pre><code class="python">docker.image.tag(source_image, new_tag)
</code></pre>

<p>Adds a tag to a Docker image.</p>
<p>Alias: <code>docker.tag(...)</code></p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>source_image</strong> <code>Union[python_on_whales.Image, str]</code>: The Docker image to tag. You can use a tag to reference it.</li>
<li><strong>new_tag</strong> <code>str</code>: The tag to add to the Docker image.</li>
</ul>
<p><strong>Raises</strong></p>
<p><code>python_on_whales.exceptions.NoSuchImage</code> if the image does not exists.</p>
<hr /></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
